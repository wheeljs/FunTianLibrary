define("core",[],function(){return{version:"0.1.0"}}),define("common",["./core"],function(e){"use strict";return e.Common={createEvent:function(e,t,n,r){var i=document.createEvent("Events");return i.initEvent(e,t,n),typeof r!="undefined"&&(i.data=r),i},extend:function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.super=t.prototype},String:{isNullOrEmpty:function(e){return e==null||e.length===0}}},e.Common}),define("cache",["./core","./common","jquery"],function(e,t,n){"use strict";function r(e){var t=n.extend({},r.defaults,e);this.options=t}return r.defaults={invalidMilliseconds:18e5,prefix:"cache."},r.prototype.compileKey=function(e,n){return n=n||this.options.prefix,t.String.isNullOrEmpty(n)===!1?n+e:e},r.prototype.get=function(e){e=this.compileKey(e);if(e in localStorage==1){var t=localStorage.getItem(e);if(typeof t!="undefined")return t=JSON.parse(t),t.invalidTime!==0&&t.invalidTime<(new Date).getTime()?(this.remove(e),null):t.obj}return null},r.prototype.set=function(e,t,r){if(typeof e=="undefined")return!1;r==null&&(r={});var i=n.extend({},this.options,r);e=this.compileKey(e,i.prefix);var s={invalidTime:(new Date).getTime(),obj:t};return Number.isNaN(i.invalidMilliseconds)===!1?(i.invalidMilliseconds===0?s.invalidTime=0:s.invalidTime+=i.invalidMilliseconds,localStorage.setItem(e,JSON.stringify(s)),!0):!1},r.prototype.remove=function(e){return e=this.compileKey(e),e in localStorage==1?(localStorage.removeItem(e),e in localStorage==0):!0},r.prototype.removeAll=function(e){var n=0;if(typeof e=="undefined"){var r=this.options.prefix;if(t.String.isNullOrEmpty(r)!==!1)return n;e=new RegExp("^"+r.replace(".","\\.")+".+")}for(var i in localStorage)localStorage.hasOwnProperty(i)&&e.test(i)&&(localStorage.removeItem(i),n+=1);return n},e.Cache=r}),define("templates",["./core","./common","jquery"],function(e,t,n){"use strict";var r=!1,i={init:function(e){if(typeof e=="undefined"){console.error("Cannot initialize, cause compiler is invalid.");return}var t=this;if(r!==!0){console.log("Compiling and caching templates...");var i=n('script[type="text/template"][cache-template]');i.each(function(n,r){var i=r.id,s=i.replace(/^tpl-/,""),o=e(r.innerHTML);t.add(s,o)}),r=!0}},isValidName:function(e){if(t.String.isNullOrEmpty(e)===!1){var n=s.filter(function(t){return t===e});return n.length===0}return!1},add:function(e,t){this.isValidName(e)&&(this[e]=t)},remove:function(e){this.isValidName(e)&&delete this[e]}},s=[];for(var o in i)i.hasOwnProperty(o)&&s.push(o);return e.Templates=i}),define("template-helper",["./core","./common"],function(e,t){"use strict";var n={getNamespace:function(e){return this[e]},setNamespace:function(e,t){this.isValidName(e)&&(this[e]=t)},removeNamespace:function(e){return this.getNamespace(e)!=null&&delete this[e],e in this},isValidName:function(e){if(t.String.isNullOrEmpty(e)===!1){var n=r.filter(function(t){return t===e});return n.length===0}return!1},register:function(e,n,r){if(t.String.isNullOrEmpty(e)||t.String.isNullOrEmpty(n))return;var i=this.getNamespace(e);i==null&&(i={},this.setNamespace(e,i)),this._register(i,n,r)},_register:function(e,t,n){e[t]=n},unRegister:function(e,t){var n=null;switch(typeof e){case"string":var r=e.split(/\./);n=this.getNamespace(r[0]),r.length>1&&typeof t=="undefined"&&(t=r[r.length-1]);break;case"object":n=e}return n!=null&&delete n[t],t in n}},r=[];for(var i in n)n.hasOwnProperty(i)&&r.push(i);return e.TemplateHelper=n}),define("ui/ui-base",["../core","../common","jquery"],function(e,t,n){"use strict";function i(){}var r=[].slice;return i.prototype.mergeOptions=function(e,t,i){var s=r.apply(arguments);s.shift(),this.options=n.extend.apply(n,[e,{}].concat(s))},i.prototype.fire=function(e,n){typeof n=="undefined"&&(n={});if(t.String.isNullOrEmpty(e)===!1){var r=this.getOptions(),i=e[0].toUpperCase().concat(e.substr(1)),s=r["on"+i];typeof s=="function"?s.call(this,n):typeof this.$el.trigger=="function"&&this.$el.trigger(e+".ui",n)}},i.prototype.getOptions=function(){return this.options},e.UIBase=i}),define("ui/loader-button",["../core","../common","./ui-base","jquery"],function(e,t,n,r){"use strict";function i(e,t){this.mergeOptions(!0,{},i.defaults,t);var n=this,s=this.options;if(this instanceof Window==1)return new i(e,t);if(s.type===i.Types.TEXT){var o=r.extend(!0,{},s.configure),u=e.find('[btn-icon],[class*="icon-"]'),a=u.attr("class");r.each(o,function(e,t){t.iconClass=a}),s.configure=o}e.is("[binding]")===!1&&e.on("click",function(){var e=n._state,t=e;switch(e){case i.State.NORMAL:t=i.State.LOADING;break;case i.State.FINISHED:t=i.State.NORMAL}n.setState(t);if(n._state===i.State.LOADING&&n._proxyPromise==null){var r=n.options.onLoadExecute();r.always(function(){n.setState(i.State.FINISHED),n._proxyPromise=null}),n._proxyPromise=r}}).attr("binding",!0),this.$el=e,this.setState(s.initState,{triggerBefore:!1,triggerAfter:!1,render:!1}),this.init()}return i.State={NORMAL:1,LOADING:2,FINISHED:4},i.Types={ICON:1,TEXT:2,ALL:3},t.extend(i,n),i.prototype.init=function(){var e=this.$el,t=this.options,n=e.clone(),i=t.configure[t.initState],s=r("<span>").attr("btn-icon",""),o=r("<span>").attr("btn-text","");o.text(e.text()),e.empty().append(s).append(" ").append(o),this.render(i),this.fire("initialized",{})},i.prototype.getStateConfigure=function(){return this.options.configure[this._state]},i.prototype.render=function(e){var t=this.options.type,n=this.$el,r=n.find("[btn-icon]"),s=n.find("[btn-text]");(t===i.Types.ICON||t===i.Types.ALL)&&r.prop("class",e.iconClass),(t===i.Types.TEXT||t===i.Types.ALL)&&s.text(e.text),this.fire("rendered",{})},i.prototype.setState=function(e,t){var n=this._state;typeof t=="undefined"&&(t={}),t.triggerBefore!==!1&&this.fire("stateChange",{prevState:n,currentState:e}),this._state=e,t.triggerAfter!==!1&&this.fire("stateChanged",{currentState:e}),t.render!==!1&&this.render(this.getStateConfigure())},i.defaults={initState:i.State.NORMAL,type:i.Types.ICON,configure:function(){var e={};return e[i.State.NORMAL]={},e[i.State.LOADING]={},e[i.State.FINISHED]={},e}(),onLoadExecute:function(){var e=r.Deferred(function(){setTimeout(function(){e.resolve()},2e3)});return e}},e.LoaderButton=i}),define("fun",["./core","./common","./cache","./templates","./template-helper","./ui/ui-base","./ui/loader-button"],function(e){return window.Fun=e});